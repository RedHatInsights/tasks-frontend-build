"use strict";(self.webpackChunktasks_frontend=self.webpackChunktasks_frontend||[]).push([[550],{5634:(e,t,n)=>{t.Ws={name:"ArrowRightIcon",height:512,width:448,svgPath:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z",yOffset:0,xOffset:0},t.LZ=n(35183).I(t.Ws),t.ZP=t.LZ},35451:(e,t,n)=>{t.GR={name:"CheckCircleIcon",height:512,width:512,svgPath:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z",yOffset:0,xOffset:0},t.rE=n(35183).I(t.GR),t.ZP=t.rE},18802:(e,t,n)=>{t.Y3={name:"InProgressIcon",height:1024,width:1024,svgPath:"M513.417211,16.013668 L513.417211,112.013668 C513.406007,120.539653 520.082422,127.576718 528.597211,128.013668 C732.697211,136.513668 896.147211,305.013668 896.147211,511.343668 C896.147211,723.013668 724.007211,895.163668 512.417211,895.163668 C437.186239,895.277345 363.602574,873.135095 300.927211,831.523668 C294.58293,827.2982 286.138663,828.135095 280.747211,833.523668 L211.807211,902.353668 C208.502935,905.676185 206.82123,910.280199 207.20607,914.950237 C207.590911,919.620275 210.00361,923.886884 213.807211,926.623668 C300.709573,989.398037 405.213535,1023.13146 512.417211,1023.01398 C794.537211,1023.01398 1023.91724,793.433668 1023.91724,511.413668 C1024.00721,235.103668 804.007211,9.22366802 529.897211,0.00645736761 C525.571205,-0.116171039 521.377128,1.51204372 518.271915,4.52681369 C515.166702,7.54158367 513.415263,11.6857144 513.417211,16.013668 M97.1272107,212.923668 C64.2190689,258.479443 39.0698895,309.162997 22.6972107,362.923668 C21.2705092,367.756559 22.2039184,372.979173 25.2163356,377.018685 C28.2287528,381.058197 32.9681443,383.442545 38.0072107,383.453683 L139.407211,383.453683 C145.970195,383.46249 151.873012,379.462528 154.297211,373.363668 C164.307669,347.593304 177.068112,322.977652 192.357211,299.943668 C196.579666,293.633658 195.741339,285.216847 190.357211,279.863668 L121.497211,211.013668 C118.186635,207.662531 113.567544,205.940538 108.871166,206.30669 C104.174788,206.672841 99.8783994,209.089927 97.1272107,212.913668 M112.907211,511.433663 L17.0072107,511.433663 C12.679257,511.433663 8.5351263,513.183159 5.52035633,516.288373 C2.50558635,519.393586 0.877371594,523.587662 1.00721065,527.913668 C4.13104542,629.408217 37.6085847,727.635936 97.1172107,809.913668 C99.8539943,813.717268 104.120603,816.129968 108.790642,816.514809 C113.46068,816.899649 118.064693,815.217944 121.387211,811.913668 L190.217211,743.073668 C195.605784,737.682216 196.442679,729.237949 192.217211,722.893668 C153.520825,664.580171 131.611534,596.745437 128.887211,526.813668 C128.553964,518.220138 121.487197,511.427209 112.887211,511.433663",yOffset:0,xOffset:0},t.pG=n(35183).I(t.Y3),t.ZP=t.pG},2112:(e,t,n)=>{t.MS={name:"WrenchIcon",height:512,width:512,svgPath:"M507.73 109.1c-2.24-9.03-13.54-12.09-20.12-5.51l-74.36 74.36-67.88-11.31-11.31-67.88 74.36-74.36c6.62-6.62 3.43-17.9-5.66-20.16-47.38-11.74-99.55.91-136.58 37.93-39.64 39.64-50.55 97.1-34.05 147.2L18.74 402.76c-24.99 24.99-24.99 65.51 0 90.5 24.99 24.99 65.51 24.99 90.5 0l213.21-213.21c50.12 16.71 107.47 5.68 147.37-34.22 37.07-37.07 49.7-89.32 37.91-136.73zM64 472c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z",yOffset:0,xOffset:0},t.R0=n(35183).I(t.MS),t.ZP=t.R0},3312:(e,t,n)=>{n.r(t),n.d(t,{default:()=>fe});var r=n(15861),a=n(70885),s=n(64687),c=n.n(s),i=n(10756),l=n.n(i),o=n(45697),u=n.n(o),p=n(16201),d=n(89376),f=function(e){var t=e.className,n=e.tabIndex,r=e.tabsList,a=e.updateTab;return l().createElement(p.Tabs,{className:t,activeKey:n,onSelect:a},r.map((function(e,t){return l().createElement(p.Tab,{id:"tabs-page-".concat(t),key:"tabs-page-".concat(t),eventKey:t,title:l().createElement(p.TabTitleText,null,e)})})))};f.propTypes={className:u().string,tabIndex:u().number,tabsList:u().array,updateTab:u().func};const m=f;var v=n(78186),k=n(3470),g=n(12117),E=n(57318),b=n(35664),y=n(45713),Z=n(84564),h=n(79114),x=n(46808),C=n(97246),w=n(55140),T=n(5634),S={"convert-to-rhel-preanalysis-stage":"pre-conversion-quickstart","convert-to-rhel-preanalysis":"pre-conversion-quickstart","convert-to-rhel-conversion-stage":"conversion-quickstart","convert-to-rhel-conversion":"conversion-quickstart","leapp-preupgrade-stage":"leapp-quickstart","leapp-preupgrade":"leapp-quickstart"},O={"pre-conversion-quickstart":"tasks-frontend_pre-conversion-quickstart-active","conversion-quickstart":"tasks-frontend_conversion-quickstart-active","leapp-quickstart":"tasks-frontend_leapp-quickstart-active"},P=function(e){var t,n,r,a=e.slug,s=S[a],c=O[s],i=(0,w.Z)().quickStarts;return void 0===c||(t=c,n=(0,C.useFlagsStatus)().flagsReady,r=(0,C.useFlag)(t),n&&r)?l().createElement(p.Button,{variant:"link",icon:l().createElement(T.ZP,null),iconPosition:"end",onClick:function(){return i.activateQuickstart(s)}},"Help me get started"):null};P.propTypes={slug:u().string.isRequired};var _=function(e){var t=e.task,n=e.openTaskModal,r=(0,i.useState)(!1),s=(0,a.Z)(r,2),c=s[0],o=s[1];return l().createElement("div",{"aria-label":t.title,key:t.title},l().createElement(p.Card,{isExpanded:c},l().createElement(p.CardHeader,{onExpand:function(){return o(!c)},toggleButtonProps:{"data-ouia-component-id":"Expand ".concat(t.title," description"),"aria-label":"Expand ".concat(t.title," description"),"aria-expanded":c}},l().createElement(p.CardTitle,null,t.title)),l().createElement(p.CardExpandableContent,null,l().createElement(p.CardBody,{className:"card-task-description"},l().createElement(p.Flex,{direction:{default:"column"}},l().createElement(p.FlexItem,null,l().createElement(h.D,null,t.description)),l().createElement(p.FlexItem,null,l().createElement("a",{href:"".concat(k.WP).concat(k.Hu,"/").concat(t.slug,"/playbook")},"Download preview of ".concat(t.slug.includes(k.jR)?"script":"playbook")))))),l().createElement(p.CardFooter,null,l().createElement(p.Flex,null,l().createElement(x.Z,{slug:t.slug,isFirst:!0,variant:"primary",openTaskModal:n}),Object.keys(S).includes(t.slug)&&l().createElement(P,{slug:t.slug})))),l().createElement("br",null))};_.propTypes={task:u().shape({slug:u().string.isRequired,description:u().string.isRequired,title:u().string.isRequired}).isRequired,openTaskModal:u().func.isRequired};var R=function(e){var t,n=e.availableTasks,r=e.error,a=e.openTaskModal;return l().createElement("div",{"aria-label":"available-tasks-table"},r?l().createElement(y.Z,{icon:Z.ZP,color:"#c9190b",title:"Available tasks cannot be displayed",text:k.Rl,error:"Error ".concat(null==r||null===(t=r.response)||void 0===t?void 0:t.status,": ").concat(null==r?void 0:r.message)}):null!=n&&n.length?null==n?void 0:n.map((function(e,t){return l().createElement(_,{task:e,key:t,openTaskModal:a})})):l().createElement(y.Z,{title:k.kL,text:k.Fd}))};R.propTypes={availableTasks:u().array,error:u().object,openTaskModal:u().func};const M=R;var I=n(65811),L=n(67303),q=function(){return Array.from({length:3}).map((function(e,t){return l().createElement(l().Fragment,{key:t},l().createElement(p.Card,{key:"loading-".concat(t)},l().createElement(p.CardTitle,null,l().createElement(b.Z,{size:b.i.md})),l().createElement(p.CardBody,null,l().createElement(b.Z,{size:b.i.md})),l().createElement(p.CardFooter,null,l().createElement(b.Z,{size:b.i.md}))),l().createElement("br",null))}))},j=function(e){var t=e.openTaskModal,n=(0,i.useState)([]),s=(0,a.Z)(n,2),o=s[0],u=s[1],p=(0,i.useState)(!1),d=(0,a.Z)(p,2),f=d[0],m=d[1],v=(0,i.useState)(),k=(0,a.Z)(v,2),g=k[0],b=k[1],y=(0,w.Z)(),Z=function(e){(0,L.VZ)(e)?(b(e),(0,I.q)({variant:"danger",title:"Error",description:e.message,dismissable:!0,autoDismiss:!1})):u(e.data),m(!1)};return(0,i.useEffect)((function(){var e=function(){var e=(0,r.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=4,(0,E.Cj)("?limit=50&offset=0");case 4:t=e.sent,Z(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,i.useEffect)((function(){y.updateDocumentTitle("Tasks | Red Hat Insights")}),[y]),l().createElement("div",{"aria-label":"available-tasks"},f?l().createElement(q,null):l().createElement(M,{availableTasks:o,error:g,openTaskModal:t}))};j.propTypes={openTaskModal:u().func};const F=j;var D=n(4942),B=n(42982),z=n(2112),A=n(79886),N=n(35451),W=n(18802),G=n(92397),H=function(e,t){var n=e.id,r=e.name;return l().createElement(G.Z,{key:"task-name-".concat(t),to:"/executed/".concat(n)},r)};H.propTypes={id:u().number,name:u().any,index:u().number};var Y=function(e){var t=e.status;return{Completed:l().createElement("span",{style:{color:"#3E8635",display:"flex",alignItems:"center"}},l().createElement(p.Icon,{status:"success",style:{marginRight:"4px"}},l().createElement(N.ZP,null)),t),Running:l().createElement("span",{style:{color:"#2B9AF3",display:"flex",alignItems:"center"}},l().createElement(p.Icon,{status:"info",style:{marginRight:"4px"}},l().createElement(W.ZP,null)),t)}[t]||t};Y.propTypes={status:u().oneOfType([u().string,u().object])};var V={title:"Task",props:{width:25},sortByProp:"name",renderExport:function(e){return e.name},renderFunc:(0,A.Rg)(H)},K={title:"Systems",props:{width:10},sortByProp:"systems_count",renderExport:function(e){return e.systems_count}},Q={title:"Status",props:{width:10},sortByProp:"status",renderExport:function(e){return e.status},renderFunc:(0,A.Rg)(Y)},J={title:"Run date/time",props:{width:20},sortByProp:"start_time",renderExport:function(e){return e.run_date_time},renderFunc:function(e,t,n){return n.run_date_time}},U=[V,K,Q,J];const X=[V,K,Q,J];var $=n(87123),ee=[{type:$.Yu.text,label:"Task",filter:function(e,t){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))}}],te=[{type:$.Yu.checkbox,label:"Status",filter:function(e,t){return e.filter((function(e){return t.includes(e.status.toLowerCase())}))},items:[{label:"Completed",value:"completed"},{label:"Running",value:"running"}]}],ne=n(23690),re=n(42019),ae=n(11207);var se=n(99335),ce=n(933),ie=n(95417);function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){(0,D.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ue=function(){var e,t=(0,i.useState)(k.ki),n=(0,a.Z)(t,2),s=n[0],o=n[1],u=(0,i.useState)(k.LG),p=(0,a.Z)(u,2),d=p[0],f=p[1],m=(0,i.useState)(!0),g=(0,a.Z)(m,2),b=g[0],h=g[1],x=(0,i.useState)(),C=(0,a.Z)(x,2),w=C[0],T=C[1],S=(0,i.useState)(),O=(0,a.Z)(S,2),P=O[0],_=O[1],R=(0,i.useState)(!1),M=(0,a.Z)(R,2),I=M[0],q=M[1],j=(0,i.useState)(!1),F=(0,a.Z)(j,2),D=F[0],N=F[1],W=(0,i.useState)(!1),G=(0,a.Z)(W,2),H=G[0],Y=G[1],V=(0,i.useState)(!1),K=(0,a.Z)(V,2),Q=K[0],J=K[1],$=(0,i.useState)({}),le=(0,a.Z)($,2),ue=le[0],pe=le[1],de=(0,i.useState)(!1),fe=(0,a.Z)(de,2),me=fe[0],ve=fe[1],ke=(0,i.useState)([]),ge=(0,a.Z)(ke,2),Ee=ge[0],be=ge[1],ye=(0,i.useState)(null),Ze=(0,a.Z)(ye,2),he=Ze[0],xe=Ze[1],Ce=(0,i.useState)(!1),we=(0,a.Z)(Ce,2),Te=we[0],Se=we[1],Oe=(0,ie.Z)().resolve,Pe=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(),ve(!0),e.next=4,(0,L.tQ)(t,_);case 4:if(n=e.sent,!(Object.keys(n).length>0)){e.next=14;break}return e.next=8,(0,L.n7)(n,_);case 8:return r=e.sent,be((0,L.AC)(r)),e.next=12,f(n);case 12:e.next=17;break;case 14:return ve(!1),e.next=17,f({});case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_e=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Math.ceil(t/200)||1,e.next=4,Oe((0,B.Z)(new Array(r)).map((function(e,t){return function(){return(0,E.nW)("?limit=".concat(200,"&offset=").concat(200*t))}})));case 4:a=e.sent,(0,L.VZ)(a[0])?((0,L.sc)(a[0]),T(a[0])):n=a.map((function(e){return e.data})).flat(),n.some((function(e){return"Running"===e.status}))?Se(!0):Se(!1),Ie(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=(0,r.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe(t);case 2:J(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Me=function(e,t){var n=function(e,t){e(t)};return function(r){return[{title:"Run this task again",onClick:function(e,r,a){return n(t,a.task.title.props.id)}},{title:"Delete",isDisabled:"Completed"!==r.task.title.props.status,onClick:function(t,r,a){n(e,a.task.title.props)}}]}}(Re,Pe),Ie=function(){var e=(0,r.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==t||t.map((function(e){return e.run_date_time=(0,A.Ws)(e.start_time)})),e.next=3,o(t);case 3:h(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=(0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,o(k.ki);case 3:qe();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),qe=function(){var e=(0,r.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xe(new Date),e.next=3,(0,E.nW)("?limit=1&offset=0");case 3:t=e.sent,(0,L.VZ)(t)?((0,L.sc)(t),T(t),o([])):0===t.data.length?o([]):_e(t.meta.count);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){qe()}),[]),(0,se.Y)((function(){Te&&qe()}),6e4),(0,i.useEffect)((function(){I||D?(Le(),q(!1),N(!1)):H&&(Le(),Y(!1))}),[D,I,H]),l().createElement(l().Fragment,null,me&&l().createElement(v.Z,{description:d.task_description,error:P,isOpen:me,parameters:d.parameters,selectedSystems:Ee,setIsRunTaskAgain:Y,setModalOpened:ve,slug:d.task_slug,title:d.task_title,name:d.name,filterMessage:d.task_filter_message}),l().createElement(ae.Z,{id:ue.id,isOpen:Q,setIsCancel:N,setIsDelete:q,setModalOpened:J,startTime:ue.start_time,status:ue.status,title:ue.task_title}),l().createElement("div",{"aria-label":"activity"},w?l().createElement(y.Z,{icon:Z.ZP,color:"#c9190b",title:"Activities cannot be displayed",text:k.Nq,error:"Error ".concat(null==w||null===(e=w.response)||void 0===e?void 0:e.status,": ").concat(null==w?void 0:w.message)}):0===(null==s?void 0:s.length)?l().createElement(y.Z,{icon:z.ZP,color:"#6a6e73",title:k.Uo,text:k.R_}):l().createElement(re.Z,{label:"activity-table",ouiaId:"activity-table",columns:X,items:s,filters:{filterConfig:[].concat((0,B.Z)(ee),(0,B.Z)(te))},options:oe(oe(oe({},k.t_),k.pN),{},{actionResolver:Me,exportable:oe(oe({},k.t_.exportable),{},{columns:U})}),emptyRows:(0,ne.f)("tasks"),isStickyHeader:!0,isTableLoading:b,footerContent:l().createElement(ce.Z,{date:he,isRunning:Te,type:"tasks"})})))};var pe=n(98773),de=function(e){var t=e.tab,n=(0,i.useState)(t),s=(0,a.Z)(n,2),o=s[0],u=s[1],f=(0,i.useState)(!1),b=(0,a.Z)(f,2),y=b[0],Z=b[1],h=(0,i.useState)({}),x=(0,a.Z)(h,2),C=x[0],w=x[1],T=(0,i.useState)(),S=(0,a.Z)(T,2),O=S[0],P=S[1];(0,i.useEffect)((function(){u(t),Z(!1)}),[t]);var _=(0,pe.Z)(),R=function(){var e=(0,r.Z)(c().mark((function e(t,n){var r,a,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,E.Sl)(n);case 2:null!=(s=e.sent)&&null!==(r=s.response)&&void 0!==r&&r.status&&200!==(null==s||null===(a=s.response)||void 0===a?void 0:a.status)?(P(s),(0,I.q)({variant:"danger",title:"Error",description:s.message,dismissable:!0,autoDismiss:!1})):w(s),Z(t);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return l().createElement(l().Fragment,null,y?l().createElement(v.Z,{description:C.description,error:O,isOpen:y,parameters:C.parameters,selectedSystems:[],setModalOpened:Z,slug:C.slug,title:C.title,filterMessage:C.filter_message}):null,l().createElement(d.Z,null,l().createElement(g.Z,{flexContents:k.j7,flexProps:k.Jc})),l().createElement(m,{className:"tabs-background",tabIndex:o,updateTab:function(e,t){_(t?"/executed":"/available")},tabsList:k.EZ}),l().createElement("section",{className:"pf-v5-l-page__main-section pf-v5-c-page__main-section"},l().createElement(p.Stack,{hasGutter:!0},l().createElement(p.StackItem,null,0===o?l().createElement(F,{openTaskModal:R}):l().createElement(ue,{openTaskModal:R})))))};de.propTypes={tab:u().number};const fe=de}}]);
//# sourceMappingURL=../sourcemaps/TasksPage.ae3b8ea2f2552836c8984e63c84617da.js.map