(self.webpackChunktasks_frontend=self.webpackChunktasks_frontend||[]).push([[581],{10496:(e,t,r)=>{"use strict";r.r(t);var n=r(93264),o=r.n(n),a=r(3644),c=r.n(a),i=r(16530),s=r(37282),u=r(24311),l=r(70885),p=r(80187);const f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:p.Z.SET_GLOBAL_FILTER_TAGS,payload:e}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:p.Z.SET_GLOBAL_FILTER_WORKLOADS,payload:e}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:p.Z.SET_GLOBAL_FILTER_SIDS,payload:e}};var d=r(4942),v=r(45697),b=r.n(v),m=r(63366),y=r(43707),g=r(85333),h=function(e){var t=e.children,r=e.requiredPermissions,n=void 0===r?[]:r,a=(0,y.TE)("tasks",n),c=a.hasAccess;return a.isLoading?"":c?t:o().createElement(g.Z,{serviceName:"Tasks"})};h.propTypes={children:b().node,requiredPermissions:b().array};const S=h;var L=r(65533),_=r.n(L),P=r(22663),T=r(2443);function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w=function(e){var t=e.component,r=e.isExact,n=e.path,a=e.props,c=void 0===a?{}:a,s=e.requiredPermissions,u={isExact:r,path:n},l=A(A({},c),{},{route:A({},e)});return o().createElement(i.Route,u,o().createElement(S,{requiredPermissions:s},o().createElement(t,l)))};w.propTypes={component:b().node,isExact:b().bool,path:b().string,props:b().object};var I=(0,n.lazy)((function(){return Promise.all([r.e(607),r.e(453),r.e(550)]).then(r.bind(r,85655))})),R=[{path:"/executed/:id",isExact:!0,requiredPermissions:["tasks:*:*"],component:(0,n.lazy)((function(){return Promise.all([r.e(607),r.e(453),r.e(292)]).then(r.bind(r,77868))}))},{path:"/available",isExact:!0,requiredPermissions:["tasks:*:*"],component:I,props:{tab:0}},{path:"/executed",isExact:!0,requiredPermissions:["tasks:*:*"],component:I,props:{tab:1}},{path:"/",isExact:!0,requiredPermissions:["tasks:*:*"],component:I,props:{tab:0}}],Z=function(){var e=(0,n.useState)(!1),t=(0,l.Z)(e,2),r=t[0],a=t[1];return(0,n.useEffect)((function(){try{_().get("".concat("/api/inventory/v1/hosts","?page=1&per_page=1")).then((function(e){var t=e.data;a(t.total>0)}))}catch(e){console.log(e)}}),[r]),o().createElement(n.Suspense,{fallback:o().createElement(m.Bullseye,null,o().createElement(m.Spinner,null))},r?o().createElement(i.Switch,null,R.map(w),o().createElement(i.Route,null,o().createElement(i.Redirect,{to:"/"}))):o().createElement(P.Z,{appName:"dashboard",module:"./AppZeroState",scope:"dashboard",ErrorComponent:o().createElement(T.Z,null),app:"Tasks"}))},D=r(67336),G=r(65645),k=r(83215),F=r(55140);const B="tasks",x=function(e){var t=(0,i.useHistory)(),r=(0,F.Z)(),a=(0,s.useDispatch)();return(0,n.useEffect)((function(){var e;if(r){(0,D.JH)().register({notifications:k.ee});var n=r.init(),o=n.identifyApp,c=n.on;o(B),e=c("APP_NAVIGATION",(function(e){return t.push("/".concat(e.navId))})),c("GLOBAL_FILTER_UPDATE",(function(e){var t,n=e.data,o=(null==r||null===(t=r.mapGlobalFilter)||void 0===t?void 0:t.call(r,n,!1,!0))||[],c=(0,l.Z)(o,3),i=c[0],s=c[1],u=c[2];a(f(u)),a(E(i)),a(O(s))}))}return function(){e()}}),[r]),o().createElement(n.Fragment,null,o().createElement(G.ZP,null),o().createElement(Z,{childProps:e}))};var q=r(35240);const N=function(){var e=(0,u.S1)();return o().createElement(u.gE.Provider,{value:{getRegistry:function(){return e}}},o().createElement(s.Provider,{store:e.getStore()},o().createElement(i.BrowserRouter,{basename:(0,q.eb)(window.location.pathname)},o().createElement(x,null))))};var C=document.getElementById("root");c().render(o().createElement(N,null),C,(function(){return C.setAttribute("data-ouia-safe",!0)}))},80187:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={SET_GLOBAL_FILTER_TAGS:"SET_GLOBAL_FILTER_TAGS",SET_GLOBAL_FILTER_WORKLOADS:"SET_GLOBAL_FILTER_WORKLOADS",SET_GLOBAL_FILTER_SIDS:"SET_GLOBAL_FILTER_SIDS"}},24311:(e,t,r)=>{"use strict";r.d(t,{gE:()=>y,zw:()=>L,bh:()=>h,S1:()=>g});var n,o=r(4942),a=r(42982),c=r(93264),i=r(9036),s=r(67336),u=r(68573),l=r.n(u),p=r(83215),f=r(80187);function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d,v=(0,i.Gg)((n={},(0,o.Z)(n,f.Z.SET_GLOBAL_FILTER_TAGS,(function(){var e=arguments.length>1?arguments[1]:void 0;return O(O({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{tagsFilter:e.payload})})),(0,o.Z)(n,f.Z.SET_GLOBAL_FILTER_WORKLOADS,(function(){var e=arguments.length>1?arguments[1]:void 0;return O(O({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{workloadsFilter:e.payload})})),(0,o.Z)(n,f.Z.SET_GLOBAL_FILTER_SIDS,(function(){var e=arguments.length>1?arguments[1]:void 0;return O(O({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{sidsFilter:e.payload})})),n));function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=(0,c.createContext)({getRegistry:function(){}});function g(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(d=(0,s.JH)({},[l()].concat((0,a.Z)(t.filter((function(e){return void 0!==e})))))).register({notifications:p.ee,globalFilterState:v}),d}function h(){return d.getStore()}var S=function(e,t){return e.map((function(e){return m(m({},e),{},{selected:t.includes(e.id)})}))},L=function(){var e;return(0,i.Gg)((e={},(0,o.Z)(e,"INVENTORY_INIT",(function(){return{rows:[],total:0}})),(0,o.Z)(e,"RESET_PAGE",(function(e){return m(m({},e),{},{page:1,perPage:10})})),(0,o.Z)(e,"SELECT_ENTITIES",(function(e,t){var r=t.payload.selected;return m(m({},e),{},{rows:S(e.rows||[],r)})})),e))}},45467:()=>{},81754:()=>{},11452:()=>{},34946:()=>{},80598:()=>{},10108:()=>{},30187:()=>{},93398:()=>{},46928:()=>{},66822:()=>{},49854:()=>{},74181:()=>{},11177:()=>{}}]);
//# sourceMappingURL=../sourcemaps/581.1bfb9345641908f3863d14b5b18d8640.js.map