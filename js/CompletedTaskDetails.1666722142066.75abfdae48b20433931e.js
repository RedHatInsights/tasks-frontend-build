"use strict";(self.webpackChunktasks_frontend=self.webpackChunktasks_frontend||[]).push([[292],{35988:(e,t,n)=>{n.r(t),n.d(t,{default:()=>U});var r=n(4942),s=n(42982),a=n(15861),l=n(70885),c=n(87757),o=n.n(c),i=n(93264),u=n.n(i),m=n(16530),p=n(95387),d=n(14748),f=n(80123),y=n(39173),E=n(99922),b=n(84564),g=n(45697),v=n.n(g),x=n(79886),h=n(58997),Z=function(e){var t=e.content;return u().createElement(E.Split,null,u().createElement(E.SplitItem,{style:{paddingRight:"8px"}},u().createElement(b.ZP,{color:"#C9190B"})),u().createElement(E.SplitItem,{style:{paddingRight:"16px"}},u().createElement("span",{style:{color:"#C9190B"}},"Alert")),u().createElement(E.SplitItem,{color:"#A30000"},t))};Z.propTypes={content:v().string};const k=Z;var S=function(e,t){var n=e.system,r=e.display_name;return u().createElement("a",{key:"system-title-".concat(t),href:insights.chrome.isBeta()?"/beta/insights/inventory/".concat(n):"/insights/inventory/".concat(n)},r)};S.propTypes={system:v().string,display_name:v().node};var w={title:"System name",props:{width:30},sortByProp:"display_name",renderExport:function(e){return e.display_name},renderFunc:(0,x.Rg)(S)},O={title:"Status",props:{width:10},sortByProp:"status",renderExport:function(e){return e.status}},j={title:"Message",props:{width:35},sortByProp:"results.message",renderExport:function(e){return e.message},renderFunc:function(e,t,n){return n.results.message&&n.results.alert?u().createElement(k,{content:n.results.message}):"Failure"===n.status?u().createElement(k,{content:h.xj}):"Timeout"===n.status?u().createElement(k,{content:h.RQ}):"Running"===n.status?u().createElement("span",{style:{color:"#72767B"}},"No result yet"):void 0}},P=[w,O,j];const _=[w,O,j];var C=n(83237),I=[{type:C.Y.text,label:"System",filter:function(e,t){return e.filter((function(e){return e.display_name.toLowerCase().includes(t.toLowerCase())}))}}],B=[{type:C.Y.checkbox,label:"Status",filter:function(e,t){return e.filter((function(e){return t.includes(e.status.toLowerCase())}))},items:[{label:"Running",value:"running"},{label:"Success",value:"success"},{label:"Failure",value:"failure"},{label:"Timeout",value:"timeout"}]}],T=n(12117),F=n(45713),R=n(64600),L=n(11207),A=n(23690),D=n(87462),M=n(45987),H=["href"],N=["children"],Q=function(e){var t=e.href,n=(0,M.Z)(e,H);return u().createElement(m.Link,(0,D.Z)({},n,{to:t}))};Q.propTypes={href:v().string};var Y=function(e){var t=e.children,n=(0,M.Z)(e,N);return u().createElement(E.BreadcrumbItem,(0,D.Z)({},n,{component:Q}),t)};Y.propTypes={children:v().node};const J=Y;var K=n(67303),W=n(85333),q=n(43707);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const U=function(){var e,t=(0,m.useParams)().id,n=(0,i.useState)(h.iS),r=(0,l.Z)(n,2),c=r[0],g=r[1],v=(0,i.useState)(h.Pu),x=(0,l.Z)(v,2),Z=x[0],k=x[1],S=(0,i.useState)(!0),w=(0,l.Z)(S,2),O=w[0],j=w[1],C=(0,i.useState)(),D=(0,l.Z)(C,2),M=D[0],H=D[1],N=(0,i.useState)(!1),Q=(0,l.Z)(N,2),Y=Q[0],z=Q[1],U=(0,i.useState)([]),V=(0,l.Z)(U,2),X=V[0],$=V[1],ee=(0,i.useState)(!1),te=(0,l.Z)(ee,2),ne=te[0],re=te[1],se=(0,i.useState)(!1),ae=(0,l.Z)(se,2),le=ae[0],ce=ae[1],oe=(0,i.useState)(!1),ie=(0,l.Z)(oe,2),ue=ie[0],me=ie[1],pe=(0,m.useHistory)(),de=(0,q.TE)("inventory",["inventory:*:*","inventory:*:read"]),fe=de.hasAccess,ye=de.isLoading,Ee=function(){var e=(0,a.Z)(o().mark((function e(){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,(0,K.tQ)(t,H);case 3:if(n=e.sent,!Object.keys(n).length){e.next=13;break}return e.next=7,(0,K.n7)(n,H);case 7:if(!(r=e.sent).length){e.next=13;break}return e.next=11,g(n);case 11:return e.next=13,k(r);case 13:j(!1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){Ee()}),[]),(0,i.useEffect)((function(){$((0,K.AC)(Z))}),[Z]),(0,i.useEffect)((0,a.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(le&&(pe.push("/executed"),ce(!1)),!ue){e.next=9;break}return e.next=4,g(h.iS);case 4:return e.next=6,k(h.Pu);case 6:return e.next=8,Ee();case 8:me(!1);case 9:case"end":return e.stop()}}),e)}))),[ue,le]),u().createElement("div",null,u().createElement(R.Z,{description:c.task_description,error:M,isOpen:Y,selectedSystems:X,setModalOpened:z,slug:c.task_slug,title:c.task_title}),u().createElement(L.Z,{id:c.id,isOpen:ne,setIsCancel:me,setIsDelete:ce,setModalOpened:re,startTime:c.start_time,status:c.status,title:c.task_title}),M?u().createElement(F.Z,{icon:b.ZP,color:"#c9190b",title:"Task cannot be displayed",text:h.eJ,error:"Error ".concat(null==M||null===(e=M.response)||void 0===e?void 0:e.status,": ").concat(null==M?void 0:M.message)}):u().createElement(u().Fragment,null,u().createElement(f.Z,null,u().createElement(E.Breadcrumb,{ouiaId:"completed-tasks-details-breadcrumb"},u().createElement(J,{to:"/executed"},"Tasks"),u().createElement(E.BreadcrumbItem,{isActive:!0},c.task_title)),u().createElement(E.Flex,{direction:{default:"column",md:"row"}},u().createElement(E.Flex,{direction:{default:"column"},flex:{default:"flex_1"}},u().createElement(E.FlexItem,null,u().createElement(y.Z,{title:c.task_title})),u().createElement(E.FlexItem,null,c.description)),u().createElement(T.Z,{data:c,flexContents:(0,h.HK)(c.task_slug,z,c.status,re),flexProps:h.Wb}))),u().createElement(d.Z,null,u().createElement(E.Card,null,u().createElement(E.Flex,{className:"completed-task-details-info-border",justifyContent:{default:"justifyContentSpaceBetween"},direction:{default:"column",md:"row"}},u().createElement(T.Z,{data:c,flexContents:h.MZ,flexProps:h.EM}))),u().createElement("br",null),u().createElement(E.Card,null,!ye&&fe?u().createElement(p.Z,{label:"".concat(c.id,"-completed-jobs"),ouiaId:"".concat(c.id,"-completed-jobs-table"),columns:_,items:Z,filters:{filterConfig:[].concat((0,s.Z)(B),(0,s.Z)(I))},options:G(G({},h.t_),{},{exportable:G(G({},h.t_.exportable),{},{columns:P})}),emptyRows:(0,A.f)("jobs"),isStickyHeader:!0,isTableLoading:O}):u().createElement(W.Z,{serviceName:"Inventory"})))))}}}]);
//# sourceMappingURL=../sourcemaps/CompletedTaskDetails.108f2fc988527a1e34cad1bdc218f06b.js.map