"use strict";(self.webpackChunktasks_frontend=self.webpackChunktasks_frontend||[]).push([[292],{2067:(e,t,r)=>{r.r(t),r.d(t,{default:()=>H});var n={};r.r(n),r.d(n,{systemFilter:()=>_});var s=r(4942),a=r(15861),l=r(70885),c=r(87757),o=r.n(c),i=r(93264),u=r.n(i),d=r(16530),m=r(95387),p=r(14748),f=r(80123),b=r(39173),y=r(99922),E=r(84564),x=r(45697),k=r.n(x),O=r(79886),g=function(e,t){var r=e.system,n=e.display_name;return u().createElement("a",{key:"system-title-".concat(t),href:"/insights/inventory/".concat(r)},n)};g.propTypes={system:k().string,display_name:k().node};var Z={title:"System name",props:{width:35},sortByProp:"display_name",renderExport:function(e){return e.display_name},renderFunc:(0,O.Rg)(g)},v={title:"Result",props:{width:20},sortByProp:"status",renderExport:function(e){return e.status}},w={title:"Message",props:{width:20},sortByProp:"message",renderExport:function(e){return e.message}},h=[Z,v,w];const j=[Z,v,w];var _={type:r(83237).Y.text,label:"System",filter:function(e,t){return e.filter((function(e){return e.display_name.toLowerCase().includes(t.toLowerCase())}))}},P=r(58997),S=r(12117),C=r(45713),F=r(64600),I=r(11207),B=r(23690),D=r(67303);function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const H=function(){var e,t=(0,d.useParams)().id,r=Object.values(n),s=(0,i.useState)(P.iS),c=(0,l.Z)(s,2),x=c[0],k=c[1],O=(0,i.useState)(P.Pu),g=(0,l.Z)(O,2),Z=g[0],v=g[1],w=(0,i.useState)(),_=(0,l.Z)(w,2),M=_[0],H=_[1],R=(0,i.useState)(!1),A=(0,l.Z)(R,2),L=A[0],J=A[1],K=(0,i.useState)([]),N=(0,l.Z)(K,2),Q=N[0],W=N[1],Y=(0,i.useState)(!1),q=(0,l.Z)(Y,2),z=q[0],G=q[1],U=(0,i.useState)(!1),V=(0,l.Z)(U,2),X=V[0],$=V[1],ee=(0,i.useState)(!1),te=(0,l.Z)(ee,2),re=te[0],ne=te[1],se=(0,d.useHistory)(),ae=function(){var e=(0,a.Z)(o().mark((function e(){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,D.tQ)(t,H);case 2:if(r=e.sent,!Object.keys(r).length){e.next=12;break}return e.next=6,(0,D.n7)(r,H);case 6:if(!(n=e.sent).length){e.next=12;break}return e.next=10,k(r);case 10:return e.next=12,v(n);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){ae()}),[]),(0,i.useEffect)((function(){W((0,D.AC)(Z))}),[Z]),(0,i.useEffect)((0,a.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(X&&(se.push("/executed"),$(!1)),!re){e.next=9;break}return e.next=4,k(P.iS);case 4:return e.next=6,v(P.Pu);case 6:return e.next=8,ae();case 8:ne(!1);case 9:case"end":return e.stop()}}),e)}))),[re,X]),u().createElement("div",null,u().createElement(F.Z,{description:x.task_description,error:M,isOpen:L,selectedSystems:Q,setModalOpened:J,slug:x.task_slug,title:x.task_title}),u().createElement(I.Z,{id:x.id,isOpen:z,setIsCancel:ne,setIsDelete:$,setModalOpened:G,startTime:x.start_time,status:x.status,title:x.task_title}),M?u().createElement(C.Z,{icon:E.ZP,color:"#c9190b",title:"Task cannot be displayed",text:P.eJ,error:"Error ".concat(null==M||null===(e=M.response)||void 0===e?void 0:e.status,": ").concat(null==M?void 0:M.message)}):u().createElement(u().Fragment,null,u().createElement(f.Z,null,u().createElement(y.Breadcrumb,{ouiaId:"completed-tasks-details-breadcrumb"},u().createElement(y.BreadcrumbItem,{to:"/beta/insights/tasks/executed"},"Tasks"),u().createElement(y.BreadcrumbItem,{isActive:!0},x.task_title)),u().createElement(y.Flex,{direction:{default:"column",md:"row"}},u().createElement(y.Flex,{direction:{default:"column"},flex:{default:"flex_1"}},u().createElement(y.FlexItem,null,u().createElement(b.Z,{title:x.task_title})),u().createElement(y.FlexItem,null,x.description)),u().createElement(S.Z,{data:x,flexContents:(0,P.HK)(x.task_slug,J,G),flexProps:P.Wb}))),u().createElement(p.Z,null,u().createElement(y.Card,null,u().createElement(y.Flex,{className:"completed-task-details-info-border",justifyContent:{default:"justifyContentSpaceBetween"},direction:{default:"column",md:"row"}},u().createElement(S.Z,{data:x,flexContents:P.MZ,flexProps:P.EM}))),u().createElement("br",null),u().createElement(y.Card,null,u().createElement(m.Z,{label:"".concat(x.id,"-completed-jobs"),ouiaId:"".concat(x.id,"-completed-jobs-table"),columns:j,items:Z,filters:{filterConfig:r},options:T(T({},P.t_),{},{exportable:T(T({},P.t_.exportable),{},{columns:h})}),emptyRows:(0,B.f)("jobs"),isStickyHeader:!0})))))}}}]);
//# sourceMappingURL=../sourcemaps/CompletedTaskDetails.8523302a2e1c84fc1fe01d2260da46f6.js.map